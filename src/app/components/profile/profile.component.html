<app-navbar></app-navbar>
<br>
<div *ngIf="profile">
  <div class="col-md-3">
    <!-- <div class="panel panel-default">
      <img src="{{ profile.avatar_url }}" width="100%">
      <div class="panel-heading">
        <div class="panel-title">{{ profile.name }}</div>
      </div>
    </div> -->

    <div class="profile-sidebar">
      <!-- SIDEBAR USERPIC -->
      <div class="profile-userpic">
        <img src="{{ profile.avatar_url }}" class="img-responsive" alt="">
      </div>
      <!-- END SIDEBAR USERPIC -->
      <!-- SIDEBAR USER TITLE -->
      <div class="profile-usertitle">
        <div class="profile-usertitle-name">
          {{ profile.name }}
        </div>
        <div class="profile-usertitle-login">
          {{ profile.login }}
        </div>
      </div>
      
      <div *ngIf="profile.bio" class="text-center profile-bio"> "{{ profile.bio }}" </div>

      <!-- END SIDEBAR USER TITLE -->
      <!-- SIDEBAR BUTTONS -->
      <div class="profile-userbuttons">
        <a href="{{ profile.html_url }}" target="_blank"><button type="button" class="btn btn-success btn-sm">Show Profile</button></a>
      </div>
      <!-- END SIDEBAR BUTTONS -->
      <br>
      
      <div class="panel panel-info">
        <div class="panel-heading">
          <div class="panel-title">Profile Details</div>
        </div>
        <div class="panel-body" style="padding:0;">
          <table>
            <tr><td>
              <strong>Email:</strong>
              <p *ngIf="profile.email">{{ profile.email }}</p>
              <p *ngIf="!profile.email">Not initialized</p>
            </td></tr>

            <tr><td>
              <strong>Blog:</strong>
              <p *ngIf="profile.blog">{{ profile.blog }}</p>
              <p *ngIf="!profile.blog">Not initialized</p>
            </td></tr>

            <tr><td>
              <strong>Company:</strong>
              <p *ngIf="profile.company">{{ profile.company }}</p>
              <p *ngIf="!profile.company">Not initialized</p>
            </td></tr>

            <tr><td>
              <strong>Location:</strong>
              <p *ngIf="profile.location">{{ profile.location }}</p>
              <p *ngIf="!profile.location">Not initialized</p>
            </td></tr>

            <tr><td>
              <strong *ngIf="profile.hireable">Hireable</strong>
              <strong *ngIf="!profile.hireable">Not Hireable</strong>
            </td></tr>
          </table>
        </div>
      </div>

      <div class="panel panel-warning">
        <div class="panel-body" style="padding:0;">
          <table>
            <tr>
              <td>
                <strong>Public Repositories</strong>
              </td>
              <td>
                <span *ngIf="profile.public_repos">: {{ profile.public_repos }}</span>
                <span *ngIf="!profile.public_repos">: 0</span>
              </td>
            </tr>
            <tr>
              <td>
                <strong>Public Gists</strong>
              </td>
              <td>
                <span *ngIf="profile.public_gists">: {{ profile.public_gists }}</span>
                <span *ngIf="!profile.public_gists">: 0</span>
              </td>
            </tr>
            <tr>
              <td>
                <strong>Followers</strong>
              </td>
              <td>
                <span *ngIf="profile.followers">: {{ profile.followers }}</span>
                <span *ngIf="!profile.followers">: 0</span>
              </td>
            </tr>
            <tr>
              <td>
                <strong>Followings</strong>
              </td>
              <td>
                <span *ngIf="profile.following">: {{ profile.following }}</span>
                <span *ngIf="!profile.following">: 0</span>
              </td>
            </tr>
          </table>
        </div>
      </div>
      

      


    </div>
  </div>
  <div class="col-md-9">
    <div>
      <div class="col-md-4">
        <!-- popular languages -->
        <canvas id="canvas1" style="width:100px; height:100px;"></canvas>
      </div>
  
  
      <div class="col-md-4">
        <!-- popular repos by stars -->
        <canvas id="canvas3" style="width:100px; height:100px;"></canvas>
      </div>
  
      <div class="col-md-4">
        <!-- popular repos by watching -->
        <canvas id="canvas4" width="100px" height="100px"> </canvas>
      </div>
    </div>
    

    <div>
      <!-- size of repositories -->
      <canvas id="canvas2" width="400px" height="250px"> </canvas>
    </div>

    <div>
      <!-- for repositories -->
      <h3 style="display:inline-block">Public Repositories :</h3>

      <div class="form-group" style="display:inline-block; margin-right:20px;">
        <input class="form-control" type="text" [(ngModel)]="repository_name" placeholder="Search by repo name" style="width:250px;" autofocus/>
      </div>

      
      <div *ngIf="repos">
        <div *ngFor="let repo of repos | repo : repository_name" class="panel panel-info repository_list">
          <div class="panel-heading">
            <div class="panel-title">{{ repo.name }}</div>
          </div>
          <div class="panel-body">
            <div>
              <strong>Language:</strong>
              <span *ngIf="repo.language">{{ repo.language }}</span>
              <span *ngIf="!repo.language">Not initialized</span>    
            </div>
            <div>
              <strong>Watchers:</strong>
              <span *ngIf="repo.watchers">{{ repo.watchers }}</span>
              <span *ngIf="!repo.watchers">0</span>
            </div>
            <div>
              <strong>Issues:</strong>
              <span *ngIf="repo.open_issues">{{ repo.open_issues }}</span>
              <span *ngIf="!repo.open_issues">0</span>
            </div>
            <a [routerLink]="['/repos',repo.name]" ><button class="btn btn-success profile-userbuttons" style="float: right;">View</button></a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>